<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script type="text/javascript" src="AddAlbum2.json"></script>
</head>

<body>
    <button onclick="Handle()">点击上传数据</button>
</body>

<script>
    // 记得修改 展览和相册的主键、url、token
    function Handle() {
        let len = 0;
        for(let item of data.list){
            len++;
            item.exhibition_id = "2"
            item.album_id = "zJvK5CcY7f"
        }
        
        function PostData(index){
            if(index === len) return;
            axios.request({
                url: 'https://dev_admin.pacificsilkroad.cn/api-service/exhibition/add-pic-to-album',
                method: 'post',
                data: data.list[index],
                headers: {
                    token: 'eyJhbGciOiJIUzUxMiIsImlhdCI6MTY2NTA1NTEwMywiZXhwIjoxNjY1MDk4MzAzfQ.eyJ1c2VybmFtZSI6InNhZG1pbiIsImNyZWF0ZV90aW1lIjoiMjAyMi0xMC0wNiAxOToxODoyMy4wMjg1MzgifQ.zm8Qhw6MCgs8TriHN0N5591OIjnJ2ieKzurDFBVZqpXvzaBVUW1nQcLSsR4tHwsmjDmWBNOlFiEaXZfoa1r0_A'
                }
            }).then(res => {
                console.log('传送成功', data.list[index].archive_id)
                PostData(index + 1)
            });
        } 

        PostData(0);
    }
</script>

</html>